
{% extends "base.html" %}

{% block content %}

<div class="container" id="top-panel">
    <h1>Bookmarks Storage</h1>

    <div  class="btn-group btn-group-sm">
        <a class="btn btn-primary" 
           href="items" 
           title="List all items ordered by the latest">List all</a>
      
        ; <a class="btn btn-info" 
          href="items?view=latest" 
          title="Order by oldest">Oldest</a>

      ; <a class="btn btn-info" href="items?view=starred" 
          title="List only starred items">Starred</a>

      ; <a class="btn btn-info" href="{% url 'bookmarks:bookmark_new' %}">Add</a>                              

      ; <a class="btn btn-info" href="/search/list" 
      title="Saved search">Search</a>

      ; <a class="btn btn-info" href="/" 
      title="Go to home page or index">Index</a>

</div>

<div class="">
  <form method='GET' class="form-group">
      <input type='text' name='search' value='{{ request.GET.search }}'>
      <input class="btn btn-info" type='submit' value="Search">
  </form> 
</div>


</div>

<div id="bookmark-list" class="container">   
    
  

    {% if object_list.has_other_pages %}
    
       <ul class="pagination">
            {% if object_list.has_previous %}
              <li><a class="btn btn-primary" href="?page={{ object_list.previous_page_number }}&view={{ request.GET.view }}&search={{ request.GET.search }}&domain={{ request.GET.domain }}&collection={{ request.GET.collection }}  ">&laquo;</a></li>
            {% else %}
              <li  class="btn btn-primary" class="disabled"><span>&laquo;</span></li>
            {% endif %}            
            
            {% for i in object_list.paginator.page_range %}
              {% if object_list.number == i %}
                <li class="active btn btn-info"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
              {% else %}
                <li><a class = "btn btn-primary" href="?page={{ i }}&view={{ request.GET.view }}&search={{ request.GET.search }}&domain={{ request.GET.domain }}&collection={{ request.GET.collection }} ">{{ i }}</a></li>
              {% endif %}
            {% endfor %}
            {% if object_list.has_next %}
              <li><a class="btn btn-primary" href="?page={{ object_list.next_page_number }}&view={{ request.GET.view }}&search={{ request.GET.search }}&domain={{ request.GET.domain }}&collection={{ request.GET.collection }} ">&raquo;</a></li>
            {% else %}
              <li class="btn btn-primary disabled"><span>&raquo;</span></li>
            {% endif %}
          </ul>
     
    {% endif %}

    

    {% for bookmark in object_list %}
        <div class = "well item ">   
            <h5> ID = {{ bookmark.id }} / <a target='_blank' title="{{bookmark.brief}}" href="{{ bookmark.modifiedUrl }}"> {{ bookmark.title | default:bookmark.url }} </a></h5>
                  <a class="btn btn-primary" title="Edit current item" href="{% url 'bookmarks:bookmark_edit' bookmark.id %}">Edit</a>

                    {% if bookmark.deleted != True  %}
                        <a class="btn btn-primary" title="Delete current item" href="{% url 'bookmarks:bookmark_delete' bookmark.id %}">Delete</a>                           
                    {% endif %}

            </br> Created  = {{ bookmark.created }} ; Modified = {{ bookmark.updated }}                  
            </br> starred = {{ bookmark.starred }} 
            </br> Domain = <a href="items?domain={{ bookmark.hostname }}"
                              title="Filter by domain {{ bookmark.hostname }}"
                            > {{ bookmark.hostname }} </a>
                        
            <p class = ""> {{ bookmark.brief }} </p>

        </div>                            
    {% endfor %}
    

</div>

{% endblock %}
